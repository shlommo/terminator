!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=16)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.glTime=null,this.glResolution=null}return i(e,[{key:"time",get:function(){return this.glTime},set:function(e){this.glTime=e}},{key:"resolution",get:function(){return this.glResolution},set:function(e){this.glResolution=e}}]),e}();t.default=new o},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=new(window.AudioContext||window.webkitAudioContext),o=i.createAnalyser();if(navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){i.createMediaStreamSource(e).connect(o)}).catch(function(e){console.log("The following gUM error occured: "+e)})}else console.log("getUserMedia not supported on your browser!");t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(0);var r=0,a=((i=o)&&i.__esModule?i:{default:i}).default;t.default=function(e,t,n,i){var o=[window.innerWidth,window.innerHeight];r+=i,t.uniform1f(a.time,r/1e3),t.uniform2fv(a.resolution,new Float32Array(o)),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.viewport(0,0,e.width,e.height),t.enable(t.DEPTH_TEST),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLES,0,6)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(t,n){o(this,e),this.canvas=t,this.vpx=this.canvas.width/2,this.vpy=this.canvas.height/2,this.x=n.x-this.vpx||0,this.y=n.y-this.vpy||0,this.z=n.z||0,this.cX=0,this.cY=0,this.cZ=0,this.xPos=0,this.yPos=0,this.map2D()}return i(e,[{key:"rotateZ",value:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.x*t-this.y*n,o=this.y*t+this.x*n;this.x=i,this.y=o}},{key:"map2D",value:function(){var e=this.vpx/(this.vpx+this.z+this.cZ),t=this.vpx/(this.vpx+this.z+this.cZ);this.xPos=this.vpx+(this.cX+this.x)*e,this.yPos=this.vpy+(this.cY+this.y)*t}}]),e}(),a=function(){function e(t,n){o(this,e),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.z=n||0,this.vpx=this.canvas.width/2,this.vpy=this.canvas.height/2,this.width=this.canvas.width/6,this.height=this.canvas.height/3,this.points=[new r(this.canvas,{x:this.vpx-this.width,y:this.vpy-this.height,z:this.z}),new r(this.canvas,{x:this.vpx+this.width,y:this.vpy-this.height,z:this.z}),new r(this.canvas,{x:this.vpx+this.width,y:this.vpy+this.height,z:this.z}),new r(this.canvas,{x:this.vpx-this.width,y:this.vpy+this.height,z:this.z})],this.dist=0}return i(e,[{key:"update",value:function(){for(var e=0;e<this.points.length;e++)this.points[e].rotateZ(.002),this.points[e].z-=3,this.points[e].z<-300&&(this.points[e].z=2700),this.points[e].map2D()}},{key:"render",value:function(){this.ctx.beginPath(),this.ctx.moveTo(this.points[0].xPos,this.points[0].yPos);for(var e=1;e<this.points.length;e++)this.points[e].z>-(this.vpx-50)&&this.ctx.lineTo(this.points[e].xPos,this.points[e].yPos);this.ctx.closePath(),this.ctx.stroke(),this.dist=this.points[this.points.length-1].z}}]),e}(),s=[],c=document.getElementById("canvasSquare"),u=c.getContext("2d");function v(){u.clearRect(4,4,c.width-8,c.height-8),s.sort(function(e,t){return t.dist-e.dist});for(var e=0,t=s.length;e<t;e++)s[e].update(),s[e].render();requestAnimationFrame(v)}t.default=function(){for(var e=0;e<15;e++)s.push(new a(c,200*e-300));u.strokeStyle="#fff",u.lineWidth=8,u.strokeRect(0,0,c.width,c.height),u.lineWidth=2,v()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i],r=5*i;t.fillRect(n+r,0+o,3,15)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=0;t.default=function(e,t,n,o,r){var a=r/4;return i===t.length?(setTimeout(function(){e.clearRect(0,0,o/2,r),i=0},1e3),!1):(e.fillStyle="#fff",e.font=n+"px Apple",e.fillText(t[i],20,a+16*i),i+=1,!0)}},function(e,t,n){"use strict";function i(e,t,n,i){for(var o="",r=0;r!==i;)o+=e(t,n),r+=1;return o}function o(e,t,n){for(var i="",o=0;o!==t;)i+=e[n(0,e.length)],o+=1;return i}function r(e,t){return Math.floor(Math.random()*(t-e))+e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=function(e,t){for(var n=[],i=e.charCodeAt(0),o=t.charCodeAt(0);i<=o;i++)n.push(String.fromCharCode(i));return n}("A","Z"),n=function(e,t){for(var n=[],i=e;i<=t;i++)n.push(i);return n}(0,9).concat(t),a="",s=[],c=0;c<=e;c++)a=i(r,0,10,2)+" "+o(t,6,r)+" "+o(n,2,r)+" "+i(r,0,10,2),s.push(a);return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(7)),o=s(n(6)),r=s(n(5)),a=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=e,s=n.getContext("2d"),c=document.querySelector(".demo");n.width=c.offsetWidth,n.height=c.offsetHeight;var u=n.width,v=n.height,f=8,l=22,h=t,d=u/1.5;h.fftSize=1024;var x=h.fftSize,y=new Uint8Array(x);!function e(){var t=(0,i.default)(l);(0,o.default)(s,t,f,u,v),h.getByteFrequencyData(y),s.clearRect(d,0,u,v/2),(0,r.default)(y,s,d),requestAnimationFrame(e)}(),(0,a.default)()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="float random(vec2 co){\n                    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n                  }"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\n                vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\n                float snoise(vec3 v) {\n                  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n                  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n                // First corner\n                  vec3 i  = floor(v + dot(v, C.yyy) );\n                  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n                // Other corners\n                  vec3 g = step(x0.yzx, x0.xyz);\n                  vec3 l = 1.0 - g;\n                  vec3 i1 = min( g.xyz, l.zxy );\n                  vec3 i2 = max( g.xyz, l.zxy );\n\n                  //  x0 = x0 - 0. + 0.0 * C\n                  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n                  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n                  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n                // Permutations\n                  i = mod(i, 289.0 );\n                  vec4 p = permute( permute( permute(\n                            i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n                          + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n                          + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n                // Gradients\n                // ( N*N points uniformly over a square, mapped onto an octahedron.)\n                  float n_ = 1.0/7.0; // N=7\n                  vec3  ns = n_ * D.wyz - D.xzx;\n\n                  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\n                  vec4 x_ = floor(j * ns.z);\n                  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n                  vec4 x = x_ *ns.x + ns.yyyy;\n                  vec4 y = y_ *ns.x + ns.yyyy;\n                  vec4 h = 1.0 - abs(x) - abs(y);\n\n                  vec4 b0 = vec4( x.xy, y.xy );\n                  vec4 b1 = vec4( x.zw, y.zw );\n\n                  vec4 s0 = floor(b0)*2.0 + 1.0;\n                  vec4 s1 = floor(b1)*2.0 + 1.0;\n                  vec4 sh = -step(h, vec4(0.0));\n\n                  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n                  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n                  vec3 p0 = vec3(a0.xy,h.x);\n                  vec3 p1 = vec3(a0.zw,h.y);\n                  vec3 p2 = vec3(a1.xy,h.z);\n                  vec3 p3 = vec3(a1.zw,h.w);\n\n                //Normalise gradients\n                  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n                  p0 *= norm.x;\n                  p1 *= norm.y;\n                  p2 *= norm.z;\n                  p3 *= norm.w;\n\n                // Mix final noise value\n                  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n                  m = m * m;\n                  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                                dot(p2,x2), dot(p3,x3) ) );\n                }"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(10)),o=r(n(9));function r(e){return e&&e.__esModule?e:{default:e}}var a="precision highp float;\n                  varying vec2 v_texcoord;\n                  uniform sampler2D u_texture;\n                  uniform vec2 u_resolution;\n                  uniform float u_time;\n\n                  const float interval = 3.0;\n\n                  "+i.default+"\n                  "+o.default+"\n\n                  void main() {\n                    float strength = smoothstep(interval * 0.5, interval, interval - mod(u_time, interval));\n\n                    vec2 shake = vec2(strength * 8.0 + 0.5) * vec2(\n                      random(vec2(u_time)) * 2.0 - 1.0,\n                      random(vec2(u_time * 2.0)) * 2.0 - 1.0\n                    ) / u_resolution;\n\n                    float y = v_texcoord.y * u_resolution.y;\n                    float rgbWave = (\n                      snoise(vec3(0.0, y * 0.01, u_time * 400.0)) * (2.0 + strength * 32.0)\n                      * snoise(vec3(0.0, y * 0.02, u_time * 200.0)) * (1.0 + strength * 4.0)\n                      + step(0.9995, sin(y * 0.005 + u_time * 1.6)) * 12.0\n                      + step(0.9999, sin(y * 0.005 + u_time * 2.0)) * -18.0\n                    ) / u_resolution.x;\n                    float rgbDiff = (6.0 + sin(u_time * 500.0 + v_texcoord.y * 40.0) * (20.0 * strength + 1.0)) / u_resolution.x;\n                    float rgbUvX = v_texcoord.x + rgbWave;\n                    float r = texture2D(u_texture, vec2(rgbUvX + rgbDiff, v_texcoord.y) + shake).r;\n                    float g = texture2D(u_texture, vec2(rgbUvX, v_texcoord.y) + shake).g;\n                    float b = texture2D(u_texture, vec2(rgbUvX - rgbDiff, v_texcoord.y) + shake).b;\n                    float grayScale = (r + g + b) / 3.0;\n\n                    float whiteNoise = (random(v_texcoord + mod(u_time, 10.0)) * 2.0 - 1.0) * (0.1 + strength * 0.15);\n\n                    float bnTime = floor(u_time * 20.0) * 200.0;\n                    float noiseX = step((snoise(vec3(0.0, v_texcoord.x * 3.0, bnTime)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n                    float noiseY = step((snoise(vec3(0.0, v_texcoord.y * 3.0, bnTime)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n                    float bnMask = noiseX * noiseY;\n                    float bnUvX = v_texcoord.x + sin(bnTime) * 0.2;\n                    float bnR = texture2D(u_texture, vec2(bnUvX + rgbDiff, v_texcoord.y)).r * bnMask;\n                    float bnG = texture2D(u_texture, vec2(bnUvX, v_texcoord.y)).g * bnMask;\n                    float bnB = texture2D(u_texture, vec2(bnUvX - rgbDiff, v_texcoord.y)).b * bnMask;\n                    vec4 blockNoise = vec4(bnR, 0, 0, 1.0);\n\n                    float bnTime2 = floor(u_time * 25.0) * 300.0;\n                    float noiseX2 = step((snoise(vec3(0.0, v_texcoord.x * 2.0, bnTime2)) + 1.0) / 2.0, 0.12 + strength * 0.5);\n                    float noiseY2 = step((snoise(vec3(0.0, v_texcoord.y * 8.0, bnTime2)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n                    float bnMask2 = noiseX2 * noiseY2;\n                    float bnR2 = texture2D(u_texture, vec2(bnUvX + rgbDiff, v_texcoord.y)).r * bnMask2;\n                    float bnG2 = texture2D(u_texture, vec2(bnUvX, v_texcoord.y)).g * bnMask2;\n                    float bnB2 = texture2D(u_texture, vec2(bnUvX - rgbDiff, v_texcoord.y)).b * bnMask2;\n                    vec4 blockNoise2 = vec4(bnR2, 0, 0, 1.0);\n\n                    float waveNoise = (sin(v_texcoord.y * 1200.0) + 1.0) / 2.0 * (0.1 + strength * 0.1);\n\n                    gl_FragColor = vec4(grayScale, 0, 0, 1.0) * (1.0 - bnMask - bnMask2) + (whiteNoise + blockNoise + blockNoise2 - waveNoise);\n                  }";t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="attribute vec2 coordinates;\n                    attribute vec2 texture_coordinates;\n                    varying vec2 v_texcoord;\n                    void main() {\n                      gl_Position = vec4(coordinates, 0.0, 1.0);\n                      v_texcoord = texture_coordinates;\n                    }"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),o=a(n(12)),r=a(n(11));function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default;t.default=function(e){var t=e.createProgram(),n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,o.default),e.compileShader(n);var i=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,r.default),e.compileShader(i),e.attachShader(t,n),e.attachShader(t,i),e.linkProgram(t),e.useProgram(t);var a=e.getAttribLocation(t,"coordinates"),c=e.getAttribLocation(t,"texture_coordinates");s.time=e.getUniformLocation(t,"u_time"),s.resolution=e.getUniformLocation(t,"u_resolution");var u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(a),e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0);var v=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,v),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,1,1,0,0,0,0,1,1,1,0]),e.STATIC_DRAW),e.enableVertexAttribArray(c),e.vertexAttribPointer(c,2,e.FLOAT,!1,0,0);var f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(13)),o=a(n(8)),r=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var s=document.getElementById("canvasBackLayer");t.default=function(e,t,n,a){var c=0;t?((0,o.default)(s,a),(0,i.default)(t),requestAnimationFrame(function i(o){var a=o-c;c=o,(0,r.default)(e,t,n,a),requestAnimationFrame(i)})):alert("Ваш браузер слишком стар для этого.")}},function(e,t,n){"use strict";var i=r(n(14)),o=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var a=document.getElementById("canvasStreaming"),s=a.getContext("webgl")||a.getContext("experimental-webgl"),c=document.getElementById("player"),u={audio:!1,video:{width:window.innerWidth,height:window.innerHeight}};navigator.mediaDevices.getUserMedia(u).then(function(e){c.src=URL.createObjectURL(e),(0,i.default)(a,s,c,o.default)})},function(e,t,n){n(15),e.exports=n(1)}]);
//# sourceMappingURL=bundle.js.map